#!/bin/sh
echo "dsf"
scp -i ~/All/ssh/root.pem -o StrictHostKeyChecking=no -r /srv/theplatform/app.log root@genesis:/srv/brands/genesis/app.log
echo "copied"
declare -A brands=(
  ["genesis"]="root@genesis"
  #  ["afgroup"]="root@185.150.119.125"
  #  ["allianceinvest"]="root@185.150.117.80"
  #  ["apex500"]="root@185.150.119.60"
  #  ["appletrade"]="root@185.8.105.235"
  #  ["arionfx"]="root@5.199.162.148"
  #  ["athcrypto"]="root@5.199.162.226"
  #  ["bilance"]="root@185.150.119.53"
  #  ["bitinvestgroup"]="root@185.8.105.247"
  #  ["bitnex"]="root@185.150.119.53"
  #  ["bullden"]="root@185.8.105.250"
  #  ["capitalpro"]="root@185.150.119.62"
  #  ["cbsmarket"]="root@5.199.162.204"
  #  ["cityinvest"]="root@185.150.117.218"
  #  ["coinswap"]="root@185.150.119.119"
  #  ["cointrex"]="root@185.8.105.140"
  #  ["cryptopremier"]="root@185.8.105.248"
  #  ["cryptowallst"]="root@5.199.174.214"
  #  ["deltainvestment"]="root@5.199.174.240"
  #  ["emiratesnad"]="root@5.199.162.75"
  #  ["finnasis"]="root@5.199.162.196"
  #  ["fxgo"]="root@185.150.119.48"
  #  ["fxtrader"]="root@185.150.117.134"
  #  ["glenrocks"]="root@185.150.119.61"
  #  ["heynepmarkets"]="root@185.150.117.168"
  #  ["holdfx"]="root@185.8.105.143"
  #  ["idealtrade"]="root@185.150.117.195"
  #  ["intinvesting"]="root@5.199.162.208"
  #  ["investkey"]="root@185.8.105.222"
  #  ["investkingdom"]="root@185.8.105.249"
  #  ["lyxorpro"]="root@185.150.117.41"
  #  ["metexxa"]="root@185.150.117.59"
  #  ["mirabud"]="root@5.199.162.164"
  #  ["nabcrypto"]="root@185.150.117.76"
  #  ["nftdom"]="root@5.199.162.251"
  #  ["nfthood"]="root@5.199.162.117"
  #  ["nftprofitclub"]="root@185.150.117.104"
  #  ["nftpronet"]="root@185.150.117.220"
  #  ["nftrader"]="root@185.150.119.230"
  #  ["nftrally"]="root@185.8.105.130"
  #  ["nftverve"]="root@185.8.105.237"
  #  ["nordinvest"]="root@185.150.119.48"
  #  ["novatrustgp"]="root@185.150.119.85"
  #  ["octamarkets"]="root@185.150.117.168"
  #  ["powerfin"]="root@185.8.105.142"
  #  ["primeolympic"]="root@5.199.174.180"
  #  ["quantumtrade"]="root@5.199.173.63"
  #  ["saxogp"]="root@185.150.117.41"
  #  ["sharksoft"]="root@5.199.162.96"
  #  ["sinara"]="root@185.150.119.53"
  #  ["ssgp"]="root@185.150.119.85"
  #  ["stage"]="root@stage"
  #  ["stage2"]="root@stage"
  #  ["suissecrypto"]="root@185.150.119.55"
  #  ["titantrust"]="root@5.199.162.75"
  #  ["tlmmarkets"]="root@185.8.105.79"
  #  ["tradehub"]="root@185.150.119.119"
  #  ["vanguardtrading"]="root@5.199.174.152"
  #  ["virginsmarkets"]="root@185.150.117.59"
  #  ["wealthinvestgp"]="root@5.199.162.203"
  #  ["wontobel"]="root@5.199.162.160"
  #  ["yans"]="root@5.199.174.152"
)

for key in "${!brands[@]}"; do
  echo $key
  scp -i ~/All/ssh/root.pem -o StrictHostKeyChecking=no -r "${brands[$key]}":/srv/brands/genesis/app.log /root/numowork/brands/$key/app.log
  mongoimport --db $key --collection logs --file /root/numowork/brands/$key/app.log
done
#mongoimport --db test5 --collection logs --file /srv/theplatform/app.log
#mongo test5 --eval "printjson(db.getCollectionNames())"
